{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Campus Connect</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="{% static 'css/department-styles.css'%}">
</head>
<body>

  <!-- Header -->
  <header>
    <h1>Campus Connect</h1>
    <button class="btn" onclick="uploadNotes()">Upload Notes</button>
  </header>

  <!-- Filters -->
  <div class="filters">
    <input type="text" id="search" placeholder="Search notes, subjects, or professors...">
    <select id="branch"><option value="">All Branches</option></select>
    <select id="subject"><option value="">All Subjects</option></select>
    <select id="semester"><option value="">All Semesters</option></select>
    <select id="professor"><option value="">All Professors</option></select>
    <button id="reset">Reset All</button>
    <div class="counter">Showing <span id="count">0</span> of <span id="total">0</span> notes</div>
  </div>

  <!-- Notes Grid -->
  <div class="notes-grid" id="notesGrid"></div>

  <!-- Upload Modal -->
  <div class="modal-overlay" id="uploadModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Upload New Notes</h2>
        <button class="close-btn" onclick="closeUploadModal()">&times;</button>
      </div>
      
      <form id="uploadForm" onsubmit="submitUpload(event)">
        <!-- Uploader Type Selection -->
        <div class="form-group uploader-type-selection">
          <label class="form-label">I am a *</label>
          <div class="uploader-options">
            <div class="uploader-option">
              <input type="radio" name="uploaderType" value="student" id="studentType" checked>
              <label for="studentType" class="uploader-option-label">
                <div class="uploader-icon">üéì</div>
                <div class="uploader-details">
                  <h4>Student</h4>
                  <p>Upload your personal notes</p>
                </div>
              </label>
            </div>
            <div class="uploader-option">
              <input type="radio" name="uploaderType" value="professor" id="professorType">
              <label for="professorType" class="uploader-option-label">
                <div class="uploader-icon">üë®‚Äçüè´</div>
                <div class="uploader-details">
                  <h4>Professor</h4>
                  <p>Upload official course material</p>
                </div>
              </label>
            </div>
          </div>
          
          <!-- Conditional fields for Student -->
          <div class="conditional-field" id="studentFields">
            <div class="uploader-info">üìö Student Upload</div>
            <label class="form-label" for="studentName">Your Name *</label>
            <input type="text" id="studentName" class="form-input" placeholder="e.g., Rahul Sharma, Priya Patel">
          </div>
          
          <!-- Conditional fields for Professor -->
          <div class="conditional-field" id="professorFields">
            <div class="uploader-info">üèõÔ∏è Professor Verification Required</div>
            <label class="form-label" for="professorName">Full Name (as per college records) *</label>
            <input type="text" id="professorName" class="form-input" placeholder="e.g., Dr. Rajesh Kumar, Prof. Meera Singh">
            <div class="help-note" style="margin-top: 8px;">
              ‚úÖ <strong>Verified professors</strong> get special badges and priority display. Your uploads will be marked as official course material.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="noteTitle">Note Title *</label>
          <input type="text" id="noteTitle" class="form-input" placeholder="e.g., Machine Learning Fundamentals" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label" for="noteBranch">Branch *</label>
            <select id="noteBranch" class="form-select" required>
              <option value="">Select Branch</option>
              <option value="COMPS">Computer Engineering</option>
              <option value="ECS">Electronics & Computer Science</option>
              <option value="AIDS">AI & Data Science</option>
              <option value="MECH">Mechanical Engineering</option>
              <option value="CIVIL">Civil Engineering</option>
              <option value="ELEC">Electrical Engineering</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="noteSemester">Semester *</label>
            <select id="noteSemester" class="form-select" required>
              <option value="">Select Semester</option>
              <option value="1st">1st Semester</option>
              <option value="2nd">2nd Semester</option>
              <option value="3rd">3rd Semester</option>
              <option value="4th">4th Semester</option>
              <option value="5th">5th Semester</option>
              <option value="6th">6th Semester</option>
              <option value="7th">7th Semester</option>
              <option value="8th">8th Semester</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="noteSubject">Subject *</label>
          <input type="text" id="noteSubject" class="form-input" placeholder="e.g., Data Structures, Machine Learning" required>
        </div>

        <div class="form-group">
          <label class="form-label" for="noteDescription">Description (Optional)</label>
          <textarea id="noteDescription" class="form-textarea" placeholder="Brief description of the notes content..."></textarea>
        </div>

        <!-- Google Drive Link Input -->
        <div class="form-group" id="driveUploadSection">
          <label class="form-label" for="driveLink">Google Drive Share Link *</label>
          <input type="url" id="driveLink" class="form-input" placeholder="https://drive.google.com/file/d/..." required>
          <div class="upload-help">
            <div class="help-title">üìù How to get Google Drive share link:</div>
            <ol class="help-steps">
              <li>Upload your file to Google Drive</li>
              <li>Right-click the file ‚Üí "Get link"</li>
              <li>Set permission to "Anyone with the link can view"</li>
              <li>Copy and paste the link above</li>
            </ol>
            <div class="help-note">
              üí° <strong>Why Google Drive?</strong> This keeps your files secure on your own Drive while sharing with classmates. No storage limits!
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-cancel" onclick="closeUploadModal()">Cancel</button>
          <button type="submit" class="btn-submit" id="submitBtn">Upload Notes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- External JavaScript -->
  <script src="{% static 'department-script.js'%}"></script>
</body>
</html>


